const sequelize = require('../config/connection');
const designs = require('../models/designs');

imageUrl = JSON.stringify('data:image/png;base64,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');
frontCanvasDesign = JSON.stringify('{"version":"2.3.5","objects":[{"type":"i-text","version":"2.3.5","originX":"left","originY":"top","left":87,"top":102,"width":45.94,"height":15.82,"fill":"rgb(0,0,0)","stroke":null,"strokeWidth":1,"strokeDashArray":null,"strokeLineCap":"butt","strokeLineJoin":"miter","strokeMiterLimit":4,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","fillRule":"nonzero","paintFirst":"fill","globalCompositeOperation":"source-over","transformMatrix":null,"skewX":0,"skewY":0,"text":"AddText","fontSize":14,"fontWeight":"normal","fontFamily":"calibri","fontStyle":"normal","lineHeight":1.16,"underline":false,"overline":false,"linethrough":false,"textAlign":"left","textBackgroundColor":"","charSpacing":0,"styles":{}},{"type":"i-text","version":"2.3.5","originX":"left","originY":"top","left":10,"top":95,"width":45.94,"height":15.82,"fill":"rgb(0,0,0)","stroke":null,"strokeWidth":1,"strokeDashArray":null,"strokeLineCap":"butt","strokeLineJoin":"miter","strokeMiterLimit":4,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","fillRule":"nonzero","paintFirst":"fill","globalCompositeOperation":"source-over","transformMatrix":null,"skewX":0,"skewY":0,"text":"AddText","fontSize":14,"fontWeight":"normal","fontFamily":"calibri","fontStyle":"normal","lineHeight":1.16,"underline":false,"overline":false,"linethrough":false,"textAlign":"left","textBackgroundColor":"","charSpacing":0,"styles":{}},{"type":"i-text","version":"2.3.5","originX":"left","originY":"top","left":43,"top":135.82,"width":45.94,"height":15.82,"fill":"rgb(0,0,0)","stroke":null,"strokeWidth":1,"strokeDashArray":null,"strokeLineCap":"butt","strokeLineJoin":"miter","strokeMiterLimit":4,"scaleX":1,"scaleY":2.19,"angle":0,"flipX":false,"flipY":true,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","fillRule":"nonzero","paintFirst":"fill","globalCompositeOperation":"source-over","transformMatrix":null,"skewX":0,"skewY":0,"text":"AddText","fontSize":14,"fontWeight":"normal","fontFamily":"calibri","fontStyle":"normal","lineHeight":1.16,"underline":false,"overline":false,"linethrough":false,"textAlign":"left","textBackgroundColor":"","charSpacing":0,"styles":{}},{"type":"i-text","version":"2.3.5","originX":"left","originY":"top","left":71,"top":37,"width":45.94,"height":15.82,"fill":"rgb(0,0,0)","stroke":null,"strokeWidth":1,"strokeDashArray":null,"strokeLineCap":"butt","strokeLineJoin":"miter","strokeMiterLimit":4,"scaleX":1,"scaleY":3.31,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","fillRule":"nonzero","paintFirst":"fill","globalCompositeOperation":"source-over","transformMatrix":null,"skewX":0,"skewY":0,"text":"AddText","fontSize":14,"fontWeight":"normal","fontFamily":"calibri","fontStyle":"normal","lineHeight":1.16,"underline":false,"overline":false,"linethrough":false,"textAlign":"left","textBackgroundColor":"","charSpacing":0,"styles":{}},{"type":"i-text","version":"2.3.5","originX":"left","originY":"top","left":0,"top":0,"width":45.94,"height":15.82,"fill":"rgb(0,0,0)","stroke":null,"strokeWidth":1,"strokeDashArray":null,"strokeLineCap":"butt","strokeLineJoin":"miter","strokeMiterLimit":4,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","fillRule":"nonzero","paintFirst":"fill","globalCompositeOperation":"source-over","transformMatrix":null,"skewX":0,"skewY":0,"text":"AddText","fontSize":14,"fontWeight":"normal","fontFamily":"calibri","fontStyle":"normal","lineHeight":1.16,"underline":false,"overline":false,"linethrough":false,"textAlign":"left","textBackgroundColor":"","charSpacing":0,"styles":{}}]}');
backCanvasDesign = JSON.stringify('{"version":"2.3.5","objects":[{"type":"i-text","version":"2.3.5","originX":"left","originY":"top","left":39,"top":113,"width":45.94,"height":15.82,"fill":"rgb(0,0,0)","stroke":null,"strokeWidth":1,"strokeDashArray":null,"strokeLineCap":"butt","strokeLineJoin":"miter","strokeMiterLimit":4,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","fillRule":"nonzero","paintFirst":"fill","globalCompositeOperation":"source-over","transformMatrix":null,"skewX":0,"skewY":0,"text":"AddText","fontSize":14,"fontWeight":"normal","fontFamily":"calibri","fontStyle":"normal","lineHeight":1.16,"underline":false,"overline":false,"linethrough":false,"textAlign":"left","textBackgroundColor":"","charSpacing":0,"styles":{}},{"type":"i-text","version":"2.3.5","originX":"left","originY":"top","left":79,"top":38.63,"width":45.94,"height":15.82,"fill":"rgb(0,0,0)","stroke":null,"strokeWidth":1,"strokeDashArray":null,"strokeLineCap":"butt","strokeLineJoin":"miter","strokeMiterLimit":4,"scaleX":1,"scaleY":2.38,"angle":0,"flipX":false,"flipY":true,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","fillRule":"nonzero","paintFirst":"fill","globalCompositeOperation":"source-over","transformMatrix":null,"skewX":0,"skewY":0,"text":"AddText","fontSize":14,"fontWeight":"normal","fontFamily":"calibri","fontStyle":"normal","lineHeight":1.16,"underline":false,"overline":false,"linethrough":false,"textAlign":"left","textBackgroundColor":"","charSpacing":0,"styles":{}},{"type":"i-text","version":"2.3.5","originX":"left","originY":"top","left":2.35,"top":82.95,"width":45.94,"height":15.82,"fill":"rgb(0,0,0)","stroke":null,"strokeWidth":1,"strokeDashArray":null,"strokeLineCap":"butt","strokeLineJoin":"miter","strokeMiterLimit":4,"scaleX":1,"scaleY":2.33,"angle":330.06,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","fillRule":"nonzero","paintFirst":"fill","globalCompositeOperation":"source-over","transformMatrix":null,"skewX":0,"skewY":0,"text":"AddText","fontSize":14,"fontWeight":"normal","fontFamily":"calibri","fontStyle":"normal","lineHeight":1.16,"underline":false,"overline":false,"linethrough":false,"textAlign":"left","textBackgroundColor":"","charSpacing":0,"styles":{}},{"type":"i-text","version":"2.3.5","originX":"left","originY":"top","left":29,"top":157,"width":45.94,"height":15.82,"fill":"rgb(0,0,0)","stroke":null,"strokeWidth":1,"strokeDashArray":null,"strokeLineCap":"butt","strokeLineJoin":"miter","strokeMiterLimit":4,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","fillRule":"nonzero","paintFirst":"fill","globalCompositeOperation":"source-over","transformMatrix":null,"skewX":0,"skewY":0,"text":"AddText","fontSize":14,"fontWeight":"normal","fontFamily":"calibri","fontStyle":"normal","lineHeight":1.16,"underline":false,"overline":false,"linethrough":false,"textAlign":"left","textBackgroundColor":"","charSpacing":0,"styles":{}},{"type":"i-text","version":"2.3.5","originX":"left","originY":"top","left":0,"top":0,"width":45.94,"height":15.82,"fill":"rgb(0,0,0)","stroke":null,"strokeWidth":1,"strokeDashArray":null,"strokeLineCap":"butt","strokeLineJoin":"miter","strokeMiterLimit":4,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","fillRule":"nonzero","paintFirst":"fill","globalCompositeOperation":"source-over","transformMatrix":null,"skewX":0,"skewY":0,"text":"AddText","fontSize":14,"fontWeight":"normal","fontFamily":"calibri","fontStyle":"normal","lineHeight":1.16,"underline":false,"overline":false,"linethrough":false,"textAlign":"left","textBackgroundColor":"","charSpacing":0,"styles":{}}]}');


function getAllDesigns() {
    return new Promise((resolve, reject) => {
        designs.findAll().then((allDesigns) => {
            return resolve(allDesigns);
        })
    });

}

function findById(id) {
    return new Promise((resolve, reject) => {
        designs.findAll({
            where: {
                id: id
            }
        }).then((design) => {
            return resolve(design);
        })
    });
}


function createOrUpdate(design) {
    return new Promise((resolve, reject) => {
        if (design.id) {
            designs
                .findOne({ where: { id: design.id } })
                .then((obj) => {
                    if (obj) { // update
                        return obj.update(design).then((data) => {
                            return resolve(data);
                        });
                    }
                });
        } else {
            designs.create(design).then((data) => {
                return resolve(data);
            });
        }
    });
}

module.exports = {
    getAllDesigns: getAllDesigns,
    findById: findById,
    createOrUpdate: createOrUpdate
}

